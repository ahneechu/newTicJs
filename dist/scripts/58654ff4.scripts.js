"use strict";angular.module("newTicApp",["firebase"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"ticTacCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("newTicApp").controller("ticTacCtrl",["$scope","angularFire",function(a,b){a.games=[],a.queue={};var c=new Firebase("https://newtictactoe.firebaseio.com/games");b(c,a,"games").then(function(){var c=new Firebase("https://newtictactoe.firebaseio.com/queue");b(c,a,"queue").then(function(){if(void 0==a.queue.gameId){console.log("I'm player 1"),a.player="player 1";var b={gameEnded:!1,gameBoard:["","","","","","","","",""],playerTurn:"player 1",showWinMsg:!1,showTieMsg:!1,waitMsg:!0,turnCount:0};a.gameId=a.games.push(b)-1,a.queue.gameId=a.gameId,console.log("player 1's game is: "+a.gameId),a.games.push(b),a.queue.gameId=a.gameId}else console.log("I'm player 2"),a.player="player 2",a.gameId=a.queue.gameId,a.queue={},console.log("player 2's game is: "+a.gameId),a.games[a.gameId].waitMsg=!1}),a.clickBox=function(b){a.player==a.games[a.gameId].playerTurn&&(a.games[a.gameId].gameBoard[b]="player 1"==a.player?"X":"O",a.games[a.gameId].playerTurn="player 1"==a.games[a.gameId].playerTurn?"player 2":"player 1"),a.win(),a.tie(),console.log(a.games[a.gameId].playerTurn),console.log(a.games[a.gameId].gameBoard[b]),console.log(a.games[a.gameId].gameBoard)};var d=[[0,1,2,"row 1"],[3,4,5,"row 2"],[6,7,8,"row 3"],[0,3,6,"column 1"],[1,4,7,"column 2"],[2,5,8,"column 3"],[0,4,8,"diagonal 1"],[2,4,6,"diagonal 2"]];a.win=function(){for(var b=0;b<d.length;b++)""!=a.games[a.gameId].gameBoard[d[b][0]]&&a.games[a.gameId].gameBoard[d[b][0]]==a.games[a.gameId].gameBoard[d[b][1]]&&a.games[a.gameId].gameBoard[d[b][1]]==a.games[a.gameId].gameBoard[d[b][2]]&&(a.games[a.gameId].gameEnded=!0,a.games[a.gameId].showWinMsg=!0,console.log(a.games[a.gameId].gameEnded),console.log(a.games[a.gameId].showWinMsg))},a.tie=function(){for(var b=!0,c=0;c<a.games[a.gameId].gameBoard.length;c++)if(""==a.games[a.gameId].gameBoard[c]){b=!1;break}a.games[a.gameId].gameEnded=b,a.games[a.gameId].gameEnded&&(a.games[a.gameId].showTieMsg=!0,console.log(a.games[a.gameId].gameEnded),console.log(a.games[a.gameId].showTieMsg))},a.resetClick=function(){for(var b=0;b<a.games[a.gameId].gameBoard.length;b++)a.games[a.gameId].gameBoard[b]="";a.games[a.gameId].playerTurn=1,a.games[a.gameId].gameEnded=!1,a.games[a.gameId].showWinMsg=!1,a.games[a.gameId].showTieMsg=!1,console.log(a.games[a.gameId].gameBoard)},a.playAgain=function(){for(var b=0;b<a.games[a.gameId].gameBoard.length;b++)a.games[a.gameId].gameBoard[b]="";a.games[a.gameId].playerTurn=1,a.games[a.gameId].gameEnded=!1,a.games[a.gameId].showWinMsg=!1,a.games[a.gameId].showTieMsg=!1,console.log(a.games[a.gameId].gameBoard)}})}]);